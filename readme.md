# Task Manager App

## ðŸ“Œ ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ
Task Manager â€” ÑÑ‚Ð¾ Ð²ÐµÐ±-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð½Ð° **Node.js, Express, MongoDB Ð¸ EJS**, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÐ¼ **ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ, Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ, ÑƒÐ´Ð°Ð»ÑÑ‚ÑŒ Ð¸ Ð¿Ñ€Ð¾ÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ð¸**. Ð¢Ð°ÐºÐ¶Ðµ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð° **Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð¸ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ** Ñ‡ÐµÑ€ÐµÐ· JWT.

---

## ðŸš€ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð¸ Ð—Ð°Ð¿ÑƒÑÐº

### 1ï¸âƒ£ Ð¡ÐºÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹
```sh
git clone https://github.com/sbkking/task-manager.git
cd task-manager
```

### 2ï¸âƒ£ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
```sh
npm install
```

### 3ï¸âƒ£ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ
Ð¡Ð¾Ð·Ð´Ð°Ð¹ Ñ„Ð°Ð¹Ð» `.env` Ð² ÐºÐ¾Ñ€Ð½ÐµÐ²Ð¾Ð¹ Ð¿Ð°Ð¿ÐºÐµ Ð¸ Ð´Ð¾Ð±Ð°Ð²ÑŒ:
```ini
MONGO_URI=mongodb+srv://yourUsername:yourPassword@cluster0.mongodb.net/yourDatabase?retryWrites=true&w=majority
JWT_SECRET=yourSecretKey
PORT=3000
```
ðŸ”¹ **Ð—Ð°Ð¼ÐµÐ½Ð¸ `yourUsername`, `yourPassword` Ð¸ `yourDatabase` Ð½Ð° ÑÐ²Ð¾Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ðµ.**
ðŸ”¹ Ð•ÑÐ»Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ `@`, `#`, `$`, Ð·Ð°ÐºÐ¾Ð´Ð¸Ñ€ÑƒÐ¹ ÐµÐ³Ð¾ Ð² URL-Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚.

### 4ï¸âƒ£ Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ ÑÐµÑ€Ð²ÐµÑ€
```sh
npm start
```
Ð¸Ð»Ð¸ Ñ Ð°Ð²Ñ‚Ð¾Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸ÐµÐ¼ (nodemon):
```sh
npx nodemon app.js
```

### 5ï¸âƒ£ ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ
ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸ Ð¿Ð¾ Ð°Ð´Ñ€ÐµÑÑƒ:  
ðŸ‘‰ `http://localhost:3000`

---

## ðŸ“Œ Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»
âœ… Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð¸ Ð²Ñ…Ð¾Ð´ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ (JWT + bcrypt)  
âœ… Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ, Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°Ð´Ð°Ñ‡  
âœ… Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð¸ ÑÐ¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²ÐºÐ° Ð·Ð°Ð´Ð°Ñ‡ Ð¿Ð¾ ÑÑ‚Ð°Ñ‚ÑƒÑÑƒ Ð¸ Ð´Ð°Ñ‚Ðµ  
âœ… Ð Ð¾Ð»Ð¸: **admin** (Ð²Ð¸Ð´Ð¸Ñ‚ Ð²ÑÐµ Ð·Ð°Ð´Ð°Ñ‡Ð¸) Ð¸ **user** (Ð²Ð¸Ð´Ð¸Ñ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐ²Ð¾Ð¸)  
âœ… Ð—Ð°Ñ‰Ð¸Ñ‚Ð° CSRF-Ñ‚Ð¾ÐºÐµÐ½Ð°Ð¼Ð¸ Ð¸ ÐºÑƒÐºÐ¸  
âœ… EJS-ÑˆÐ°Ð±Ð»Ð¾Ð½Ñ‹ Ð´Ð»Ñ Ð´Ð¸Ð½Ð°Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†  

---

## ðŸ“Œ API ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚Ñ‹

### **ÐÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ**
| ÐœÐµÑ‚Ð¾Ð´ | ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚      | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|--------|------------|----------|
| `GET`  | `/login`   | Ð¤Ð¾Ñ€Ð¼Ð° Ð²Ñ…Ð¾Ð´Ð° |
| `POST` | `/login`   | ÐÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ |
| `GET`  | `/register` | Ð¤Ð¾Ñ€Ð¼Ð° Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ |
| `POST` | `/register` | Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ |
| `GET`  | `/logout`  | Ð’Ñ‹Ñ…Ð¾Ð´ Ð¸Ð· ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ |

### **Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°Ð´Ð°Ñ‡Ð°Ð¼Ð¸**
| ÐœÐµÑ‚Ð¾Ð´  | ÐœÐ°Ñ€ÑˆÑ€ÑƒÑ‚              | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|--------|----------------------|----------|
| `GET`  | `/tasks`             | ÐŸÑ€Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ ÑÐ¿Ð¸ÑÐºÐ° Ð·Ð°Ð´Ð°Ñ‡ |
| `GET`  | `/tasks/create`      | Ð¤Ð¾Ñ€Ð¼Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð·Ð°Ð´Ð°Ñ‡Ð¸ |
| `POST` | `/tasks/create`      | Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²ÑƒÑŽ Ð·Ð°Ð´Ð°Ñ‡Ñƒ |
| `PUT`  | `/tasks/update/:id`  | ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ |
| `POST` | `/tasks/delete/:id`  | Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ |

---

## ðŸ“Œ Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼Ñ‹Ðµ Ñ‚ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ð¸
- **Node.js + Express** â€” ÑÐµÑ€Ð²ÐµÑ€Ð½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ
- **MongoDB + Mongoose** â€” Ð±Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…
- **EJS** â€” ÑˆÐ°Ð±Ð»Ð¾Ð½Ñ‹ Ð´Ð»Ñ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ
- **bcrypt.js** â€” Ñ…ÐµÑˆÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÐµÐ¹
- **jsonwebtoken** â€” Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· JWT
- **method-override** â€” Ð´Ð»Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸ `PUT` Ð¸ `DELETE` Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ…
- **csurf** â€” Ð·Ð°Ñ‰Ð¸Ñ‚Ð° Ð¾Ñ‚ CSRF-Ð°Ñ‚Ð°Ðº

---

## ðŸ“Œ Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹Ðµ Ð¾ÑˆÐ¸Ð±ÐºÐ¸ Ð¸ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ
**1ï¸âƒ£ `MongoDB Connection Error: Could not connect to any servers...`**  
âœ” ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒ `MONGO_URI` Ð² `.env`, Ð´Ð¾Ð±Ð°Ð²ÑŒ ÑÐ²Ð¾Ð¹ IP Ð² `MongoDB Atlas > Network Access`

**2ï¸âƒ£ `Cannot POST /tasks/update/:id`**  
âœ” Ð£Ð±ÐµÐ´Ð¸ÑÑŒ, Ñ‡Ñ‚Ð¾ Ð² `app.js` Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½ `method-override`:
```js
const methodOverride = require('method-override');
app.use(methodOverride('_method'));
```

**3ï¸âƒ£ `Invalid CSRF Token`**  
âœ” Ð”Ð¾Ð±Ð°Ð²ÑŒ CSRF-Ñ‚Ð¾ÐºÐµÐ½ Ð² `app.js`:
```js
app.use((req, res, next) => {
  res.locals.csrfToken = req.csrfToken ? req.csrfToken() : '';
  next();
});
```

---

